version: 1.0.{build}

build: false

environment:
  matrix:
    - PYTHON: "C:\\Python27-64"
      PYTHON_VERSION: "2.7"
      PYTHON_ARCH: "64"
      MINICONDA: "C:\\ProgramData\\Miniconda2"  

  TST_PUB_DWNL: './tst_pub_dwnl_David_etal_201x_SER.sh'
  TST_PUB_REPR: './tst_pub_repr_David_etal_201x_SER.sh'

init:
  - ps: $ENV:PATH="$ENV:MINICONDA;$ENV:MINICONDA\\Scripts;$ENV:PATH"

install:
  - ps: choco install miniconda
  - ps: get-command python
  - ps: ls C:\\ProgramData\\Miniconda2\lib\site-packages  
  - ps: conda install -y -q --no-update-deps -c erdc fiona
  - ps: ls C:\\ProgramData\\Miniconda2\lib\site-packages  
    #- ps: conda install -y -q -c ioos netcdf4
    # - ps: conda install -y -q -c cjrh numpy
    # - ps: pip --disable-pip-version-check install -i https://pypi.anaconda.org/joschka_zj/simple shapely
    # - ps: Remove-Item Alias:curl
    # - ps: curl -fsS -o Rtree-0.8.3-py2-none-any.whl https://pypi.python.org/packages/c9/d6/0d019787b724b15532be415e0c9782f7a869ebd5586f09535a67b2f12b9b/Rtree-0.8.3-py2-none-any.whl#md5=c990384aeeff68b3a599d78ac5207041
    # - ps: pip --disable-pip-version-check install Rtree-0.8.3-py2-none-any.whl
    # - ps: Remove-Item Alias:wget
    # - ps: choco install wget

test_script:
  - ps: cd ./tst
  - ps: python test.py
  - ps: sh tst_pub_dwnl_David_etal_201x_SER.sh
  - ps: sh ./tst_pub_repr_David_etal_201x_SER.sh


